<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>5.2. Demon</title><link rel="stylesheet" type="text/css" href="static/aquapi.css" /><meta name="generator" content="DocBook XSL Stylesheets V1.79.1" /><link rel="home" href="index.html" title="Komputer akwariowy AquaPi" /><link rel="up" href="devel.html" title="Rozdział 5. Dla developerów" /><link rel="prev" href="devel.html" title="Rozdział 5. Dla developerów" /><link rel="next" href="i2c_dev.html" title="5.3. Urządzenia I2C" /></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">5.2. Demon</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="devel.html">Poprzedni</a> </td><th width="60%" align="center">Rozdział 5. Dla developerów</th><td width="20%" align="right"> <a accesskey="n" href="i2c_dev.html">Następny</a></td></tr></table><hr /></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="daemon"></a>5.2. Demon</h2></div></div></div><p>Stałe demona:</p><pre class="programlisting">
//prefiksy portów wej/wyj
const char *PORT_RELBRD_PREFIX = "relbrd:"; // to jest do usunięcia - brak wsparcia
const char *PORT_RPI_GPIO_PREFIX = "rpi:gpio:";
const char *PORT_RPI_1W_PREFIX = "rpi:1w:";
const char *PORT_RPI_I2C_MINIPH_PREFIX = "rpi:i2c:miniph:";
const char *PORT_DUMMY_PREFIX = "dummy:";
const char *PORT_TEXT_FILE_PREFIX = "rpi:system:txtfile:";

//prefiksy portów wejściowych
const char *INPUT_RPI_1W_PREFIX = "rpi:1w:";
const char *INPUT_DUMMY_PREFIX = "dummy:";
const char *INPUT_RPI_I2C_MINIPH_PREFIX = "rpi:i2c:miniph";

const int E_DEV  = -1;
const int E_INFO = 0;
const int E_WARN = 1;
const int E_CRIT = 2;
const int E_SQL  = 3;

// typ urządzenia
const int DEV_INPUT = 1;
const int DEV_OUTPUT = 2;
const int DEV_OUTPUT_PWM = 3;

</pre><p>Definicje struktur:</p><pre class="programlisting">
struct _interfaces {
	int id;
	char address[128];
	char name[30];
	int type;
	int state;
	int new_state;
	int draw;
	double measured_value;
	double raw_measured_value;
	int override_value;
	int override_expire;
	int was_error_last_time;
	double conf;
} interfaces[100];

struct _timers {
	int timeif;
	int action;
	int interfaceidthen;
	char days[7]; 
} timers[100];

typedef struct
{
	char* db_host;
	char* db_user; 
	char* db_password;
	char* db_database;
	int dontfork;
	int stat_freq;
	int inputs_freq;
	int devel_freq;
	int reload_freq;
	int bind_port;
	char* bind_address;
	double dummy_temp_sensor_val;
} configuration;

</pre></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="devel.html">Poprzedni</a> </td><td width="20%" align="center"><a accesskey="u" href="devel.html">Początek rozdziału</a></td><td width="40%" align="right"> <a accesskey="n" href="i2c_dev.html">Następny</a></td></tr><tr><td width="40%" align="left" valign="top">Rozdział 5. Dla developerów </td><td width="20%" align="center"><a accesskey="h" href="index.html">Spis treści</a></td><td width="40%" align="right" valign="top"> 5.3. Urządzenia I2C</td></tr></table></div></body></html>